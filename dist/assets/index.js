import i from"gsap";import a from"gsap/ScrollTrigger";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();function u(){console.log("skeet")}window.skeeter=u;i.registerPlugin(a);window.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded"),setTimeout(()=>{let n=document.querySelectorAll(".swiper");const s=new IntersectionObserver(o=>{o.forEach(e=>{const r=e.target,l=r.querySelectorAll(".swiper-slide video");e.isIntersecting?(r.swiper.autoplay.resume(),l[r.swiper.activeIndex].play(),r.classList.add("central")):(r.swiper.autoplay.pause(),l.forEach(c=>{c.pause()}),r.classList.remove("central"))})},{threshold:.84,rootMargin:"-60px 0px 0px 0px"});n.forEach(o=>{s.observe(o)});const t=new IntersectionObserver(o=>{console.log("workWrapperObserver",o),o.forEach(e=>{if(e.isIntersecting){const r=e.target.closest(".work-section-wrap"),l=r==null?void 0:r.querySelector(".scroll-anchor"),c=l==null?void 0:l.id;c&&history.replaceState(null,"",`#${c}`)}})},{threshold:.75,rootMargin:"-84px 0px 0px 0px"});document.querySelectorAll(".work-section-wrap").forEach(o=>{const e=o.querySelectorAll(".work-wrapper");e.length>0&&(t.observe(e[0]),e.length>1&&t.observe(e[e.length-1]))})},1e3),document.querySelectorAll(".work-type-link").forEach(n=>{n.addEventListener("click",function(s){console.log("link clicked",n),s.preventDefault();var t=n.getAttribute("href");if(!t)return;t=t.split("-area")[0],console.log("targetHash",t);const o=document.querySelector(t);o&&(console.log("scrollToEl",o),o.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{console.log("scrollToEl",o)},1e3))})}),window.addEventListener("hashchange",n=>{console.log("hashchange",n),n.preventDefault();const s=window.location.hash;if(!s)return;const t=document.querySelector(s);t&&t.scrollIntoView({behavior:"smooth",block:"center"})})},!1);
