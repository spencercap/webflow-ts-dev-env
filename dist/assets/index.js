import u from"gsap";import p from"gsap/ScrollTrigger";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=t(e);fetch(e.href,o)}})();function f(){console.log("skeet")}window.skeeter=f;u.registerPlugin(p);window.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded"),setTimeout(()=>{let l=document.querySelectorAll(".swiper");const s=new IntersectionObserver(r=>{r.forEach(e=>{const o=e.target,c=o.querySelectorAll(".swiper-slide video");o&&o.swiper!==void 0&&(e.isIntersecting?(o.swiper.autoplay.resume(),console.log("do play",o),c[o.swiper.activeIndex].play(),o.classList.add("central")):(o.swiper.autoplay.pause(),c.forEach(i=>{i.pause()}),o.classList.remove("central")))})},{threshold:.84,rootMargin:"-60px 0px 0px 0px"});l.forEach(r=>{s.observe(r)});const t=new IntersectionObserver(r=>{console.log("workWrapperObserver",r),r.forEach(e=>{if(e.isIntersecting){const o=e.target.closest(".work-section-wrap"),c=o==null?void 0:o.querySelector(".scroll-anchor"),i=c==null?void 0:c.id;if(i){history.replaceState(null,"",`#${i}`),document.querySelectorAll(".work-type-link").forEach(n=>{n.classList.remove("active");const d=n.querySelector(":scope > *");d&&d.classList.remove("active")});const a=document.querySelector(`.work-type-link[href*="${i}"]`);if(a){a.classList.add("active");const n=a.querySelector(":scope > *");n&&n.classList.add("active")}}}})},{threshold:.75,rootMargin:"-84px 0px 0px 0px"});document.querySelectorAll(".work-section-wrap").forEach(r=>{const e=r.querySelectorAll(".work-wrapper");e.length>0&&(t.observe(e[0]),e.length>1&&t.observe(e[e.length-1]))})},1e3),document.querySelectorAll(".work-type-link").forEach(l=>{l.addEventListener("click",function(s){console.log("link clicked",l),s.preventDefault();var t=l.getAttribute("href");if(!t)return;t=t.split("-area")[0],console.log("targetHash",t);const r=document.querySelector(t);r&&(console.log("scrollToEl",r),r.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{console.log("scrollToEl",r)},1e3))})}),window.addEventListener("hashchange",l=>{console.log("hashchange",l),l.preventDefault();const s=window.location.hash;if(!s)return;const t=document.querySelector(s);t&&t.scrollIntoView({behavior:"smooth",block:"center"})})},!1);
