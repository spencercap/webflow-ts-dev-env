import u from"gsap";import p from"gsap/ScrollTrigger";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}})();function f(){console.log("skeet")}window.skeeter=f;u.registerPlugin(p);window.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded"),setTimeout(()=>{let l=document.querySelectorAll(".swiper");const s=new IntersectionObserver(o=>{o.forEach(e=>{const r=e.target,c=r.querySelectorAll(".swiper-slide video");e.isIntersecting?(r.swiper.autoplay.resume(),c[r.swiper.activeIndex].play(),r.classList.add("central")):(r.swiper.autoplay.pause(),c.forEach(i=>{i.pause()}),r.classList.remove("central"))})},{threshold:.84,rootMargin:"-60px 0px 0px 0px"});l.forEach(o=>{s.observe(o)});const t=new IntersectionObserver(o=>{console.log("workWrapperObserver",o),o.forEach(e=>{if(e.isIntersecting){const r=e.target.closest(".work-section-wrap"),c=r==null?void 0:r.querySelector(".scroll-anchor"),i=c==null?void 0:c.id;if(i){history.replaceState(null,"",`#${i}`),document.querySelectorAll(".work-type-link").forEach(n=>{n.classList.remove("active");const d=n.querySelector(":scope > *");d&&d.classList.remove("active")});const a=document.querySelector(`.work-type-link[href*="${i}"]`);if(a){a.classList.add("active");const n=a.querySelector(":scope > *");n&&n.classList.add("active")}}}})},{threshold:.75,rootMargin:"-84px 0px 0px 0px"});document.querySelectorAll(".work-section-wrap").forEach(o=>{const e=o.querySelectorAll(".work-wrapper");e.length>0&&(t.observe(e[0]),e.length>1&&t.observe(e[e.length-1]))})},1e3),document.querySelectorAll(".work-type-link").forEach(l=>{l.addEventListener("click",function(s){console.log("link clicked",l),s.preventDefault();var t=l.getAttribute("href");if(!t)return;t=t.split("-area")[0],console.log("targetHash",t);const o=document.querySelector(t);o&&(console.log("scrollToEl",o),o.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{console.log("scrollToEl",o)},1e3))})}),window.addEventListener("hashchange",l=>{console.log("hashchange",l),l.preventDefault();const s=window.location.hash;if(!s)return;const t=document.querySelector(s);t&&t.scrollIntoView({behavior:"smooth",block:"center"})})},!1);
