import n from"gsap";import a from"gsap/ScrollTrigger";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function l(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(e){if(e.ep)return;e.ep=!0;const r=l(e);fetch(e.href,r)}})();function u(){console.log("skeet")}window.skeeter=u;n.registerPlugin(a);window.addEventListener("DOMContentLoaded",()=>{console.log("DOM loaded"),setTimeout(()=>{let c=document.querySelectorAll(".swiper");const s=new IntersectionObserver(t=>{t.forEach(e=>{const r=e.target,o=r.querySelectorAll(".swiper-slide video");e.isIntersecting?(r.swiper.autoplay.resume(),o[r.swiper.activeIndex].play(),r.classList.add("central")):(r.swiper.autoplay.pause(),o.forEach(i=>{i.pause()}),r.classList.remove("central"))})},{threshold:.84,rootMargin:"-60px 0px 0px 0px"});c.forEach(t=>{s.observe(t)});const l=new IntersectionObserver(t=>{t.forEach(e=>{if(e.isIntersecting){const r=e.target.closest(".work-section-wrap"),o=r==null?void 0:r.querySelector(".scroll-anchor"),i=o==null?void 0:o.id;i&&history.replaceState(null,"",`#${i}`)}})},{threshold:.75,rootMargin:"-60px 0px 0px 0px"});document.querySelectorAll(".work-section-wrap").forEach(t=>{const e=t.querySelectorAll(".work-wrapper");e.length>0&&(l.observe(e[0]),e.length>1&&l.observe(e[e.length-1]))})},1e3),document.querySelectorAll(".work-type-link").forEach(c=>{c.addEventListener("click",function(s){console.log("link clicked",c),s.preventDefault();const l=c.getAttribute("href");if(!l)return;const t=document.querySelector(l);t&&setTimeout(()=>{console.log("scrollToEl",t),t.scrollIntoView({behavior:"smooth"})},2e3)})})},!1);
